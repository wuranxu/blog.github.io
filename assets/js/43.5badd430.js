(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{454:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"每天一个python小技巧-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#每天一个python小技巧-5"}},[s._v("#")]),s._v(" 每天一个Python小技巧(5)")]),s._v(" "),t("blockquote",[t("p",[s._v("大家好，这里是米洛，一个想和大家一起分享"),t("code",[s._v("测试开发")]),s._v("相关的技术，面试经验和成长经历的博主！")])]),s._v(" "),t("h2",{attrs:{id:"欢迎大家关注我的公众号-米洛的测开日记。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#欢迎大家关注我的公众号-米洛的测开日记。"}},[s._v("#")]),s._v(" 欢迎大家关注我的公众号: "),t("code",[s._v("米洛的测开日记")]),s._v("。")]),s._v(" "),t("p",[s._v("今天比较短，故事来！")]),s._v(" "),t("h3",{attrs:{id:"故事"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#故事"}},[s._v("#")]),s._v(" 故事")]),s._v(" "),t("p",[s._v("榜一大哥正在做一个"),t("code",[s._v("用户头像上传")]),s._v("的功能，为了安全起见，他需要对文件进行校验，判断用户传的是不是图片。常见的图片后缀有哪些呢？")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("png")])]),s._v(" "),t("li",[t("p",[s._v("jpg")])]),s._v(" "),t("li",[t("p",[s._v("jpeg")])]),s._v(" "),t("li",[t("p",[s._v("gif")])]),s._v(" "),t("li",[t("p",[s._v("bmp(好像也没啥人用)")]),s._v(" "),t("p",[s._v("我们常见的有这些，"),t("code",[s._v("svg")]),s._v("和"),t("code",[s._v("icon")]),s._v("那种更适合当图标，我们就不算了。")])])]),s._v(" "),t("h3",{attrs:{id:"简化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简化"}},[s._v("#")]),s._v(" 简化")]),s._v(" "),t("p",[s._v("我们在接受到文件的时候，可以拿到文件名，我们只需要判断"),t("code",[s._v("文件名后缀")]),s._v("是不是标准的文件格式即可。")]),s._v(" "),t("p",[s._v("很多人都知道startswith和endswith，所以我们可以利用这个方法去判断:")]),s._v(" "),t("div",{staticClass:"language-PYTHON line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("filename "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxxx.jpg"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" filename"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("endswith"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" filename"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("endswith"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".gif"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \\\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" filename"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("endswith"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".png"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" filename"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("endswith"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jpeg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 继续上传操作")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请上传合法的图片"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("有没有觉得这个方法很繁琐？其实endswith和startswith(判断字符串是否以xxx开头)是支持tuple的哦~")]),s._v(" "),t("p",[s._v("看下面的例子:")]),s._v(" "),t("div",{staticClass:"language-PYTHON line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("filename "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxxx.jpg"')]),s._v("\nfile_type "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".gif"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".png"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jpeg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" filename"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("endswith"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("file_type"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 继续上传操作")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请上传合法的图片"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("这样就方便许多了！"),t("strong",[s._v("非常好用")]),s._v("！")]),s._v(" "),t("h3",{attrs:{id:"继续赠送"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#继续赠送"}},[s._v("#")]),s._v(" 继续赠送")]),s._v(" "),t("p",[s._v("如果我们endswith/startswith的内容需要支持"),t("code",[s._v("忽略大小写")]),s._v("，怎么做呢？")]),s._v(" "),t("p",[s._v("其实很简单，我们用"),t("code",[s._v("filename.lower().endswith(小写tuple)")]),s._v("即可，这样可以既不改变filename，也可以达到忽略大小写的目的。")]),s._v(" "),t("p",[t("strong",[s._v("非常好用")]),s._v("！！！")])])}),[],!1,null,null,null);t.default=e.exports}}]);