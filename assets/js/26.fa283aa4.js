(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{437:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"fastapi简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fastapi简介"}},[t._v("#")]),t._v(" FastApi简介")]),t._v(" "),s("p",[t._v("官网地址: "),s("a",{attrs:{href:"https://fastapi.tiangolo.com/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://fastapi.tiangolo.com/zh/"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("code",[t._v("FastApi")]),t._v("是最近（具体啥时候开始我也不知道）很火的一个Python "),s("code",[t._v("web框架")]),t._v("，其实我对他了解也不够多，那咱们来看看他的官方文档吧。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.pity.fun/picture/2021-4-28/1619597850278-image.png",alt:""}})]),t._v(" "),s("p",[t._v("基本上可以瞅到几个关键字，一马当先的就是快。那么她有多快呢，这边写到了"),s("code",[t._v("Go")]),t._v("，我本身呢是个go语言使用者，身上随身带个"),s("code",[t._v("if err != nil")]),t._v("，很合逻辑吧！")]),t._v(" "),s("p",[t._v("其他的咱们都可以不用看，那都是虚的，其实我就想知道这玩意有多"),s("code",[t._v("快")]),t._v("。是不是真的和他标榜的那样，和go肩并肩。")]),t._v(" "),s("h3",{attrs:{id:"试水"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#试水"}},[t._v("#")]),t._v(" 试水")]),t._v(" "),s("p",[t._v("所以我开始了自己的一次尝试，昨天晚上我特意搭建了一个FastApi服务，跑了跑。虽然我本身没用过django，但是大概也知道django的全面，各个组件应有尽有，简直就是"),s("code",[t._v("精装修，拎包入住即可")]),t._v("。那FastApi呢？"),s("code",[t._v("测试开发干货群")]),t._v("的大佬们形容他是"),s("em",[t._v("毛坯中的毛坯")]),t._v("，意思是啥组件都需要自己写，核心库比不上Flask多，更别说django了，django，yyds！")]),t._v(" "),s("p",[t._v("但是我本身对于新鲜事物还是很好奇的，所以就忍不住体验了一把。如果这是一篇测评文章的话，那我的测评进度可能才到5%，不过就算是这样，我也觉得FastApi应当是一款不错的web框架。")]),t._v(" "),s("h3",{attrs:{id:"爱之初体验"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#爱之初体验"}},[t._v("#")]),t._v(" 爱之初体验")]),t._v(" "),s("ul",[s("li",[t._v("安装fastapi")])]),t._v(" "),s("div",{staticClass:"language-Python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pip install fastapi\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("安装uvicorn")])]),t._v(" "),s("div",{staticClass:"language-Python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pip install uvicorn\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("新建一个main.py")])]),t._v(" "),s("div",{staticClass:"language-Python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" typing "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Optional\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" fastapi "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" FastAPI\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pydantic "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" BaseModel\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Item")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BaseModel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v("\n    description"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Optional"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n    price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),t._v("\n    tax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Optional"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n\n\napp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FastAPI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("post")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/items/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create_item")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" item\n\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br")])]),s("p",[t._v("整体风格有点像"),s("code",[t._v("Flask")]),t._v("，所以上手比较快。这个可能也是我想试试的原因之一。上面的class定义了接受的参数，以往我们用flask接受参数的话一般用"),s("code",[t._v("request.get_data()或者get_json()")]),t._v("，其实我写惯了go之后还是很不习惯的，因为我还是认为"),s("code",[t._v("对象")]),t._v("比"),s("code",[t._v("字典")]),t._v("好使，而且这个"),s("code",[t._v("item")]),t._v("对象实现了dict()方法，也可以随时转为dict。说句实话，这点确实方便。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.pity.fun/picture/2021-4-28/1619598836694-image.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("在main.py同级目录启动服务")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("uvicorn main:app --reload\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("code",[t._v("--reload")]),t._v("参数指的是热更新部署，意思是可以在"),s("strong",[t._v("代码发生变动的时候自动重启服务，使得代码生效")]),t._v("。")]),t._v(" "),s("p",[t._v("方便还是挺方便的。")]),t._v(" "),s("h3",{attrs:{id:"看看控制台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#看看控制台"}},[t._v("#")]),t._v(" 看看控制台")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.pity.fun/picture/2021-4-28/1619598871705-image.png",alt:""}})]),t._v(" "),s("p",[t._v("长的是喜欢的样子！假设我更新下代码:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.pity.fun/picture/2021-4-28/1619598913595-image.png",alt:""}})]),t._v(" "),s("p",[t._v("可以看到服务自动reload了。这点还挺方便的~")]),t._v(" "),s("h3",{attrs:{id:"计划"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计划"}},[t._v("#")]),t._v(" 计划")]),t._v(" "),s("p",[t._v("计划是把现有的"),s("code",[t._v("Flask")]),t._v("改为"),s("code",[t._v("FastApi")]),t._v("，趁着"),s("code",[t._v("项目还小")]),t._v("，行动起来。有一起学习的小伙伴们，麻烦加我一下！我们一起学！如果不想学的就帮我点个赞吧，"),s("code",[t._v("希望你不要不识抬举")]),t._v("！(狗头保命)")]),t._v(" "),s("h3",{attrs:{id:"to-be-continued"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#to-be-continued"}},[t._v("#")]),t._v(" To Be Continued")])])}),[],!1,null,null,null);s.default=e.exports}}]);