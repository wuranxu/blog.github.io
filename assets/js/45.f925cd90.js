(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{449:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("大家好，这里是米洛，一个想和大家一起分享"),s("code",[t._v("测试开发")]),t._v("相关的技术，面试经验和成长经历的博主！")])]),t._v(" "),s("p",[t._v("欢迎大家关注我的公众号: "),s("code",[t._v("米洛的测开日记")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"引蛇出洞"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引蛇出洞"}},[t._v("#")]),t._v(" 引蛇出洞")]),t._v(" "),s("p",[t._v("我们都知道字典(dict)里面有get和set操作，那你知道"),s("code",[t._v("对象")]),t._v("里面的属性怎么获得和修改吗？假设有这样一个类:")]),t._v(" "),s("div",{staticClass:"language-Python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Lidazui")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n        self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" age\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"我李大嘴不服"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#我李大嘴不服"}},[t._v("#")]),t._v(" 我李大嘴不服")]),t._v(" "),s("p",[t._v("李大嘴站了出来，切，你这不是小儿科吗？我没学过编程都能知道，用"),s("code",[t._v(".")]),t._v("就可以对对象的属性进行操作:")]),t._v(" "),s("div",{staticClass:"language-Python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Lidazui"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lidazui"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"七舅姥爷"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("李大嘴写完，一脸不屑，骂骂咧咧（心想这厮又在讲垃圾玩意儿。）")]),t._v(" "),s("h3",{attrs:{id:"新的挑战"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新的挑战"}},[t._v("#")]),t._v(" 新的挑战")]),t._v(" "),s("p",[t._v("那我问你个问题，如果你的属性名字是个变量，你该怎么取呢？是否有点为难？")]),t._v(" "),s("p",[t._v("我们可以用"),s("code",[t._v("getattr")]),t._v("来进行操作，它接受3个参数:")]),t._v(" "),s("ul",[s("li",[t._v("类/对象")]),t._v(" "),s("li",[t._v("字段(属性)名称")]),t._v(" "),s("li",[t._v("初始值（如果没有这个属性，则采用这个初始值）")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.pity.fun/picture/2021-7-29/1627563067051-image.png",alt:"好久没用这个idle了，皮一下"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.pity.fun/picture/2021-7-29/1627563130140-image.png",alt:"可以看到，没有这个属性的时候会取到默认值"}})]),t._v(" "),s("p",[t._v("至于setattr，就是设置变量，用法接近，这里就不讲了。")]),t._v(" "),s("h2",{attrs:{id:"扩展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扩展"}},[t._v("#")]),t._v(" 扩展")]),t._v(" "),s("p",[s("s",[t._v("由于时间关系，我们就不讲扩展了！！")])]),t._v(" "),s("p",[t._v("其实这个功能"),s("code",[t._v("比较重要")]),t._v("，特别是配合dir()来使用的时候。来看看dir的用法:")]),t._v(" "),s("div",{staticClass:"language-Python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Lidazui"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lidazui"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("dir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://static.pity.fun/picture/2021-7-29/1627563434058-image.png",alt:""}})]),t._v(" "),s("p",[t._v("dir()方法返回一个数组，这个方法可以"),s("code",[t._v("输出对象/类的所有属性+方法")]),t._v("，咱们需要的"),s("code",[t._v("name")]),t._v("和"),s("code",[t._v("age")]),t._v("就在里面。")]),t._v(" "),s("p",[t._v("这样，我们遍历这个数组就可以找出对象拥有哪些属性了，这个有什么好处呢？你可能"),s("code",[t._v("对力量一无所知")]),t._v("!")]),t._v(" "),s("h2",{attrs:{id:"使用说明书"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用说明书"}},[t._v("#")]),t._v(" 使用说明书")]),t._v(" "),s("p",[t._v("Python的类是不能被序列化为JSON的，前面讲序列化的文章就有说过这点。")]),t._v(" "),s("p",[t._v("再来浅谈一下序列化的作用，我个人认为序列化的"),s("code",[t._v("最大意义")]),t._v("是将数据"),s("code",[t._v("持久化")]),t._v("存储，不管你是存放到db还是存放到文件中，都是持久化的表现。想象一下，你的类的对象，通过序列化为: "),s("code",[t._v('{"name": "lidazui", "age": 12}')]),t._v("的形式，那么你反序列化的时候，就可以把数据取出，还原你之前的那个对象（数据一样）。")]),t._v(" "),s("p",[t._v("getattr和setattr让我们能更灵活地操作对象属性，配合dir，给我们一个对象，我们就可以把它扒个精光（啥都拿到），就算我们不知道具体有哪些属性。为此，我们可以编写通用的方法，做一些"),s("code",[t._v("定制化")]),t._v("的事情(通常是由框架控制)。比如我们常用的unittest框架，我们可以用dir找出对应"),s("code",[t._v("test")]),t._v("开头的方法，判断这个类种是否含有测试用例，有可以通过getattr获取之，执行之。")]),t._v(" "),s("h2",{attrs:{id:"吹牛时刻"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#吹牛时刻"}},[t._v("#")]),t._v(" 吹牛时刻")]),t._v(" "),s("p",[t._v("表面上我讲了get/set，实际我讲了unittest。")]),t._v(" "),s("blockquote",[s("p",[t._v("本期知识点: getattr，setattr， dir")])])])}),[],!1,null,null,null);s.default=e.exports}}]);