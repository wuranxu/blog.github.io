(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{608:function(s,t,n){"use strict";n.r(t);var a=n(2),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("大家好~我是"),t("code",[s._v("米洛")]),s._v("！"),t("br"),s._v("\n我正在从0到1打造一个开源的接口测试平台, 也在编写一套与之对应的完整"),t("code",[s._v("教程")]),s._v("，希望大家多多支持。"),t("br"),s._v("\n欢迎关注我的公众号"),t("code",[s._v("米洛的测开日记")]),s._v("，获取最新文章教程!")])]),s._v(" "),t("h2",{attrs:{id:"定时任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定时任务"}},[s._v("#")]),s._v(" 定时任务")]),s._v(" "),t("p",[s._v("定时任务，顾名思义: 定时执行的任务，可以是一段bash命令，也可以是一个脚本文件。通常用于我们需要在特定时刻做事情。")]),s._v(" "),t("p",[s._v("举个例子: 每晚8点执行全业务场景"),t("code",[s._v("接口自动化回归测试")]),s._v("，又或者每隔20分钟去你家QQ农场偷菜！")]),s._v(" "),t("h2",{attrs:{id:"python的定时任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#python的定时任务"}},[s._v("#")]),s._v(" Python的定时任务")]),s._v(" "),t("p",[s._v("如果是大中型公司，一定有对应的"),t("code",[s._v("平台")]),s._v("让大家接入。一般这样的平台的名字或者描述都是: "),t("code",[s._v("分布式任务调度平台")]),s._v("这样的。再不济还有jenkins满足我们的需求~")]),s._v(" "),t("p",[s._v('想起博主以前"小时候"（刚工作的时候），公司既没有用'),t("code",[s._v("jenkins")]),s._v("，也没有这样的大平台可以接入。我是怎么做定时任务的呢？")]),s._v(" "),t("p",[s._v("来看一段代码:")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" time\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" datetime "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" datetime\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个是定时任务要执行的ui/接口自动化方法")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取当前时间")]),s._v("\n      now "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" datetime"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("now"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" now"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hour "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" now"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("minute "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当时间到达晚上8点0分，我们就开始跑自动化任务啦")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"任务开始执行"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n          func"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sleep"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      \n      \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"__main__"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("p",[s._v("不知道现在是否还有人依然用着这样的方式"),t("code",[s._v("定时执行")]),s._v("自动化测试，既然都2021年了，那咱们还是先进点吧。那么定时任务在Python中要怎么做呢？接着看。")]),s._v(" "),t("h3",{attrs:{id:"几种常见的方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#几种常见的方案"}},[s._v("#")]),s._v(" 几种常见的方案")]),s._v(" "),t("h4",{attrs:{id:"schedule"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#schedule"}},[s._v("#")]),s._v(" schedule")]),s._v(" "),t("p",[s._v("如果你只是"),t("code",[s._v("上面提到")]),s._v("的"),t("code",[s._v("简单")]),s._v("诉求，那我建议直接使用"),t("code",[s._v("schedule")]),s._v("库。这个库我个人感觉是"),t("code",[s._v("小学生")]),s._v("版本的升级版，对于我那种局限的sleep任务做了一些扩展:")]),s._v(" "),t("ul",[t("li",[s._v("支持了按周期执行任务")]),s._v(" "),t("li",[s._v("执行时间阅读起来更人性化")]),s._v(" "),t("li",[s._v("还支持星期X执行---")])]),s._v(" "),t("ol",[t("li",[s._v("安装scheduler")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" schedule\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("官网给出的例子")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" schedule\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" time\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义一个执行方法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("job")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"I\'m working..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每10分钟执行一次job")]),s._v("\nschedule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("every"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("minutes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("do"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每小时执行一次job")]),s._v("\nschedule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("every"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hour"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("do"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每天10:30执行job")]),s._v("\nschedule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("every"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("day"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"10:30"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("do"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每个星期一执行一次")]),s._v("\nschedule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("every"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("monday"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("do"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每个星期三的13:15执行一次")]),s._v("\nschedule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("every"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wednesday"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"13:15"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("do"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在每分钟的17秒执行一次")]),s._v("\nschedule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("every"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("minute"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":17"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("do"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("job"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入schedule循环")]),s._v("\n    schedule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("run_pending"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sleep"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("p",[s._v("可以看出，api十分简单，语义也很"),t("strong",[s._v("清晰")]),s._v("。基本可以满足我们的需求了~如果我们只是要定时去做某些事情的话，我想这个库非常human。")]),s._v(" "),t("h4",{attrs:{id:"jenkins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jenkins"}},[s._v("#")]),s._v(" Jenkins")]),s._v(" "),t("p",[s._v("这个工具相比大家都有所了解吧~jenkins是一个比较强大的软件了，它可以打通git/svn，也支持定时任务等。有着丰富的插件，比如"),t("code",[s._v("邮件")]),s._v("，是一套完整的CI/CD解决方案。对于任务的执行结果的记录，也是可追溯的。估计唯一的缺点就是，引入了"),t("code",[s._v("额外的系统")]),s._v("。可能本身我只是一个自动化测试框架，现在却要搭建一套jenkins。")]),s._v(" "),t("p",[s._v("如果大家有代码改动->执行定时任务类似的需求，又需要完善的权限控制系统的话，那jenkins会是你的不二选择。")]),s._v(" "),t("h4",{attrs:{id:"celery"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#celery"}},[s._v("#")]),s._v(" Celery")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://static.pity.fun/picture/2021-10-26/1635256455973-image.png",alt:""}})]),s._v(" "),t("p",[s._v("我对这家伙了解的"),t("code",[s._v("不太多")]),s._v("，但python+celery仿佛成了一个"),t("strong",[s._v("固定搭配")]),s._v("。不知道我理解的对不对:")]),s._v(" "),t("p",[t("strong",[s._v("celery是一个任务队列，你可以制定好任务执行的规则，放入队列中，会有专门的消费端来帮你执行这些任务。")])]),s._v(" "),t("p",[s._v("说到这里就不得不提到"),t("code",[s._v("持久化")]),s._v("了~")]),s._v(" "),t("h3",{attrs:{id:"题外话之持久化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#题外话之持久化"}},[s._v("#")]),s._v(" 题外话之持久化")]),s._v(" "),t("p",[s._v("什么是持久化呢？通俗的讲，就是瞬时数据（比如内存中的数据，是不能永久保存的）持久化为持久数据（比如持久化至数据库中，能够长久保存）")]),s._v(" "),t("p",[s._v("我们可以把"),t("code",[s._v("数据")]),s._v("放到文件里，也可以放到数据库（实际上也是磁盘里）进行持久性保存。")]),s._v(" "),t("p",[t("code",[s._v("这样做的目的: 数据可以存储，下次也还能拿到这些数据。")]),s._v("这里面的内容太多了，打算后面再开一节来讲。")]),s._v(" "),t("p",[s._v("我们在Python里面的变量啊，这些数据都是存放在"),t("code",[s._v("内存")]),s._v("当中的，所以我们刚才的schedule是不支持"),t("code",[s._v("持久化")]),s._v("的。（也可能是我没研究到）")]),s._v(" "),t("p",[s._v("那jenkins支持吗？他是支持的，你想，你建立一个项目，里面有一些job的配置，什么时候执行，执行了干嘛，最后保存。")]),s._v(" "),t("p",[t("strong",[s._v("上述就是一个持久化的过程。")])]),s._v(" "),t("p",[s._v("你保存了数据以后，下次能够获取到这个项目的任务信息，也就是说你哪怕重启了jenkins，"),t("code",[s._v("任务依然存在")]),s._v("。")]),s._v(" "),t("p",[s._v("说明"),t("code",[s._v("任务")]),s._v("本身作为了一条数据，持久地保存了起来。")]),s._v(" "),t("h4",{attrs:{id:"apscheduler"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#apscheduler"}},[s._v("#")]),s._v(" ApScheduler")]),s._v(" "),t("p",[s._v('"APScheduler是一个Python库，可让您安排稍后要执行的Python代码，只需一次或定期执行。您可以根据您添加新的作业或删除旧的旧作业。如果您在数据库中存储工作，他们还将存活调度程序重新启动并保持状态。'),t("code",[s._v("重新启动")]),s._v('调度程序时，它将运行它在脱机1时应该运行的所有作业。"')]),s._v(" "),t("p",[s._v("这是摘自ApScheduler官网的介绍，总体来说它支持对任务的增删改查(持久化)，也能很好地支撑"),t("strong",[s._v("定时任务")]),s._v("的执行。它相对来说比较轻量，不像celery那么复杂，也不像schedule那么简陋。由于我们不打算引入"),t("code",[s._v("jenkins")]),s._v("，所以总体来说，ApScheduler算得上是咱们执行定时任务的不二之选了。")]),s._v(" "),t("p",[s._v("由于篇幅的原因，今天的内容就介绍到这啦~")]),s._v(" "),t("p",[t("code",[s._v("下一节我们就详细介绍ApScheduler在pity中的运用叭")]),s._v("。")])])}),[],!1,null,null,null);t.default=e.exports}}]);