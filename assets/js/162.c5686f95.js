(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{567:function(t,v,_){"use strict";_.r(v);var a=_(2),s=Object(a.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("blockquote",[v("p",[t._v("大家好~我是"),v("code",[t._v("米洛")]),t._v("！"),v("br"),v("br"),t._v("\n这是一个完整的"),v("code",[t._v("接口测试平台系列教程")]),t._v("，希望能和大家一起学习，从0到1打造一个开源平台。"),v("br"),t._v(" "),v("br"),t._v("\n欢迎关注我的公众号"),v("code",[t._v("米洛的测开日记")]),t._v("，获取最新文章教程!")])]),t._v(" "),v("h3",{attrs:{id:"回顾"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#回顾"}},[t._v("#")]),t._v(" 回顾")]),t._v(" "),v("p",[t._v("上一节我们插入了"),v("code",[t._v("题外话")]),t._v(": 部署相关的内容，让我们这节继续回到case相关的话题。")]),t._v(" "),v("h3",{attrs:{id:"新的篇章"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#新的篇章"}},[t._v("#")]),t._v(" 新的篇章")]),t._v(" "),v("p",[t._v("其实在之前的"),v("code",[t._v("用例编写")]),t._v("相关页面废弃以后，我一直在思考怎么去构建一个合理的，人性化的"),v("code",[t._v("用例编写")]),t._v("页面。")]),t._v(" "),v("p",[t._v("但其实也没有找到好的"),v("code",[t._v("解决方案")]),t._v("，期间也参考过一些其他优秀的开源项目。最终呢，我还是回归到了Tab模式:")]),t._v(" "),v("p",[t._v("最终效果大概会长这样:")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.pity.fun/picture/2021-9-3/1630679612034-image.png",alt:""}})]),t._v(" "),v("p",[t._v("主要分为2块，上面是"),v("code",[t._v("用例相关的数据")]),t._v("，下面是编写用例的核心地方，分为常见的模块。")]),t._v(" "),v("p",[t._v("下方分为4个步骤，数据构造器（前置条件）-> 接口请求 -> 断言 -> 数据清理。")]),t._v(" "),v("p",[t._v("符合"),v("code",[t._v("人体工学设计")]),t._v("的setUp -> test -> assert -> tearDown")]),t._v(" "),v("h3",{attrs:{id:"相关改造"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#相关改造"}},[t._v("#")]),t._v(" 相关改造")]),t._v(" "),v("p",[t._v("这些基本上算是前端页面的改造，但是后端接口也会有一些变化。所以我们得对"),v("code",[t._v("接口")]),t._v("做一些适配。")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.pity.fun/picture/2021-9-4/1630723809142-image.png",alt:"查询单个项目的时候，我们把case信息获取步骤删掉，加快接口响应速度"}})]),t._v(" "),v("h2",{attrs:{id:"编写根据用例id获取前置条件的方法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#编写根据用例id获取前置条件的方法"}},[t._v("#")]),t._v(" 编写根据用例id获取前置条件的方法")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.pity.fun/picture/2021-9-4/1630723903820-image.png",alt:""}})]),t._v(" "),v("p",[t._v("注意这里有一个伏笔: 我们的前置条件肯定是有顺序去执行的，但我这边按照"),v("code",[t._v("创建时间")]),t._v("排序，显然是不友好的，但后面我们会支持变更前置条件执行顺序的功能。")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.pity.fun/picture/2021-9-4/1630723976785-case%E6%8B%96%E6%8B%BD.gif",alt:"这就是预览图"}})]),t._v(" "),v("h2",{attrs:{id:"调整获取用例列表方法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#调整获取用例列表方法"}},[t._v("#")]),t._v(" 调整获取用例列表方法")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.pity.fun/picture/2021-9-4/1630724091681-image.png",alt:""}})]),t._v(" "),v("p",[t._v("改为异步执行，并且支持根据"),v("code",[t._v("目录")]),t._v("获取case，减少大规模查询case的次数。")]),t._v(" "),v("h2",{attrs:{id:"调整获取单个case的方法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#调整获取单个case的方法"}},[t._v("#")]),t._v(" 调整获取单个case的方法")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static.pity.fun/picture/2021-9-4/1630724210903-image.png",alt:"可以看到改动还是挺多的"}})]),t._v(" "),v("p",[t._v("以前只拿testcase，现在需要拿到case的"),v("code",[t._v("基本信息")]),t._v("，"),v("code",[t._v("前置条件")]),t._v("，断言信息，最后封装到一个字典里面返回，后面还会有"),v("code",[t._v("后置条件")]),t._v("。")]),t._v(" "),v("p",[v("code",[t._v("这边没有选择用join，因为涉及的表比较多，所以我们查询多次，后续我们可以把查询好的数据都放入redis，减轻数据库的压力。")])]),t._v(" "),v("p",[t._v("为什么要花这么多时间进行这块的改造，其实是因为之前确实"),v("code",[t._v("太难用")]),t._v("了。")]),t._v(" "),v("h2",{attrs:{id:"比如我自己都觉得添加一个前置条件特别费劲-添加后还不能展示出来。"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#比如我自己都觉得添加一个前置条件特别费劲-添加后还不能展示出来。"}},[t._v("#")]),t._v(" 比如我自己都觉得添加一个"),v("code",[t._v("前置条件")]),t._v("特别费劲，添加后还不能展示出来。")]),t._v(" "),v("p",[t._v("今天的内容就介绍到这里，下一节讲"),v("code",[t._v("如何控制前置条件的执行顺序")]),t._v("。")])])}),[],!1,null,null,null);v.default=s.exports}}]);