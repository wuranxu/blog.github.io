(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{413:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"引言-很啰嗦-可跳过"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#引言-很啰嗦-可跳过"}},[s._v("#")]),s._v(" 引言（很啰嗦，可跳过）")]),s._v(" "),t("p",[s._v("在最近的一年时间里，我一直在"),t("code",[s._v("编写")]),s._v("一个"),t("code",[s._v("自动化测试平台")]),s._v("，并编写了一份配套的文字教程。随着时间的推移，我也渐渐积累了许多文章，一般都是用"),t("code",[s._v("markdown")]),s._v("的形式。")]),s._v(" "),t("p",[t("strong",[s._v("我也一直在寻找一款便捷的Markdown编辑器，但可能我个人习惯问题，试过很多软件，都觉得不那么顺手。")])]),s._v(" "),t("p",[s._v("其实我的要求也没那么复杂:")]),s._v(" "),t("ol",[t("li",[s._v("markdown有分栏模式，即源码+渲染2块显示")]),s._v(" "),t("li",[s._v("有完善的目录管理")]),s._v(" "),t("li",[s._v("能支持自定义图床")]),s._v(" "),t("li",[s._v("可远程访问（优先级不高），也可访问本地文件夹")])]),s._v(" "),t("p",[s._v("但纵观这些编辑器，他们都不能同时满足我的要求。先说下我尝试过的几个编辑器:")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("语雀")]),s._v(" "),t("p",[s._v("语雀很完美，有客户端有网页版，但是它不支持"),t("code",[s._v("主题")]),s._v("和图床，也不支持"),t("code",[s._v("分栏显示")]),s._v("。虽然总体体验很好，但还是不能满足我的要求。")])]),s._v(" "),t("li",[t("p",[s._v("typora")]),s._v(" "),t("p",[s._v("这个除了分栏显示和远程同步，其他基本都满足了，所以我打算做的东西基本也都会参考它，主要是它还收费了。")])]),s._v(" "),t("li",[t("p",[s._v("marktext")]),s._v(" "),t("p",[s._v("这个实际体验比较一般，作为一个中国人开发的软件，居然不支持中文。也许我这句话有争议，但我觉得它可能更多地面向外部用户吧。总体使用感觉不是很友好，主题似乎也只能支持系统的几种。")])]),s._v(" "),t("li",[t("p",[s._v("有道云")]),s._v(" "),t("p",[s._v("虽然没有样式，但也还能让人接受。毕竟他可以本地存储，也可以在线访问，最关键的是没有图床，使用的话要开VIP。")])]),s._v(" "),t("li",[t("p",[s._v("MdNice")]),s._v(" "),t("h2",{attrs:{id:"我目前用的一款编辑器-样式好看-免费版功能也很强。但有2大重要缺陷。我积累了许多文章-大概200多篇-要找历史文章难于登天-其次完全不能同步数据到本地-需要一篇一篇下载-也就是没有导出功能。-由于是web编辑器-积累文章多了-有时候会想备份到本地-只能自己写脚本导出-图床也是不支持自定义。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#我目前用的一款编辑器-样式好看-免费版功能也很强。但有2大重要缺陷。我积累了许多文章-大概200多篇-要找历史文章难于登天-其次完全不能同步数据到本地-需要一篇一篇下载-也就是没有导出功能。-由于是web编辑器-积累文章多了-有时候会想备份到本地-只能自己写脚本导出-图床也是不支持自定义。"}},[s._v("#")]),s._v(" 我目前用的一款编辑器，样式好看，免费版功能也很强。但有2大重要缺陷。我积累了许多文章（大概200多篇），要找历史文章"),t("code",[s._v("难于登天")]),s._v("，其次完全不能同步数据到本地，需要一篇一篇下载，也就是没有导出功能。（由于是web编辑器，积累文章多了，有时候会想备份到本地，只能自己写脚本导出）图床也是不支持自定义。")]),s._v(" "),t("p",[s._v("曾几何时，我做了一个类似mdnice那种，支持目录访问的web编辑器。一直以来，我都"),t("code",[s._v("有一个客户端开发")]),s._v("的心愿。所以这次我想利用"),t("code",[s._v("electron")]),s._v("+"),t("code",[s._v("nodejs")]),s._v("+"),t("code",[s._v("antd")]),s._v("，做一个精简版的typora，主要满足自己的需求，顺便也练练手。")]),s._v(" "),t("h2",{attrs:{id:"谁不想有个自己做的跨平台的客户端呢-哪怕不好看-功能少。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#谁不想有个自己做的跨平台的客户端呢-哪怕不好看-功能少。"}},[s._v("#")]),s._v(" "),t("strong",[s._v("谁不想有个自己做的跨平台的客户端呢？哪怕不好看，功能少。")])])])]),s._v(" "),t("h3",{attrs:{id:"初始electron"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始electron"}},[s._v("#")]),s._v(" 初始Electron")]),s._v(" "),t("p",[s._v("扯远了。。。")]),s._v(" "),t("p",[s._v("我们知道，传统的客户端开发，C++系列基本都是QT，C#系列都是WinForm，Java系列都是JavaFX啥的。主要这些我都不会，我只会点前端，所以我们这时候就要利用electron来帮我们做这些事情了。")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.electronjs.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Electron官网"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("简单的说，electron是一款工具，他可以把web程序转变为客户端程序，并且是跨平台的。这个就很赞了，由于我之前也没有深入接触过，只能边查边开发了。=。=（不保证开发完，但梦想还是要有的）")]),s._v(" "),t("h3",{attrs:{id:"搭建umi-electron环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搭建umi-electron环境"}},[s._v("#")]),s._v(" 搭建umi+electron环境")]),s._v(" "),t("p",[s._v("本身想过用Vite+react+antd搭建下试试，结果发现vite和create-react-app+最新版本antd，会出现"),t("code",[s._v("样式丢失")]),s._v("的情况。（我也不知道为啥没人报这个issue，因为样式只丢失了部分，比如tab选中以后没有底部的高亮，特别奇怪）")]),s._v(" "),t("p",[s._v("所以最终决定用最熟悉的umi，至于为什么不用antd pro，它确实是太重了。。")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("创建umi项目")]),s._v(" "),t("p",[s._v("这里我们取名myapp，暂时这个项目不命名。创建目录并进入目录。")]),s._v(" "),t("p",[s._v("参考官方文档: "),t("a",{attrs:{href:"https://umijs.org/zh-CN/docs/getting-started",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://umijs.org/zh-CN/docs/getting-started"),t("OutboundLink")],1)])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mac/linux")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" myapp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" myapp\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# windows")]),s._v("\nmd myapp\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" myapp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("接着我们用yarn/npx新建umi项目:")]),s._v(" "),t("div",{staticClass:"language-BASH line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 有yarn的情况")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" create @umijs/umi-app\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 没有yarn就用npx")]),s._v("\nnpx @umijs/create-umi-app\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("接着目录会生成一堆文件，我们直接"),t("code",[s._v("npm install")]),s._v("即可。")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("启动项目")]),s._v(" "),t("p",[s._v("我们通过npm run start, 发现项目启动了，就一个简简单单的页面。")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://files.mdnice.com/user/11504/800b44a1-ae71-4c4c-bc9a-3f6188b03300.png",alt:""}})]),s._v(" "),t("ul",[t("li",[t("ol",[t("li",[s._v("配置electron main.js")])]),s._v(" "),t("p",[s._v("以下例子基本来自官网，我们只针对"),t("code",[s._v("umi")]),s._v("进行一部分改动。")]),s._v(" "),t("p",[s._v("新建main.js并进行些许调整。")])])]),s._v(" "),t("ol",[t("li",[s._v("umi的打包输出目录为dist目录，所以我们需要修改loadFile处，下面的代码我写了注释，分别针对本地开发和打包后的html")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// main.js")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Modules to control application life and create native browser window")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" BrowserWindow "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'electron'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("createWindow")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Create the browser window.")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" mainWindow "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BrowserWindow")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("width")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("800")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("height")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("webPreferences")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("preload")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'preload.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 加载 index.html")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果是dev环境，直接加载前端服务地址即可")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// mainWindow.loadUrl("http://localhost:8000")')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 加载打包后的入口html")]),s._v("\n  mainWindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./dist/index.html'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打开开发工具")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// mainWindow.webContents.openDevTools()")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这段程序将会在 Electron 结束初始化")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 和创建浏览器窗口的时候调用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 部分 API 在 ready 事件触发后才能使用。")]),s._v("\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("whenReady")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createWindow")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n  app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'activate'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// On macOS it's common to re-create a window in the app when the")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// dock icon is clicked and there are no other windows open.")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BrowserWindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAllWindows")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createWindow")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 除了 macOS 外，当所有窗口都被关闭的时候退出程序。 There, it's common")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// for applications and their menu bar to stay active until the user quits")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// explicitly with Cmd + Q.")]),s._v("\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'window-all-closed'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("platform "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'darwin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("quit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// In this file you can include the rest of your app's specific main process")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// code. 也可以拆分成几个文件，然后用 require 导入。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br")])]),t("ul",[t("li",[t("ol",{attrs:{start:"2"}},[t("li",[s._v("修改package.json")])]),s._v(" "),t("p",[s._v("这里我们需要调整2个地方，分别是main入口和scripts命令如图:")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://files.mdnice.com/user/11504/26923870-76a3-49ca-903a-e7681229a21c.png",alt:""}})]),s._v(" "),t("p",[s._v("加入这3个配置（包括homepage）")]),s._v(" "),t("ul",[t("li",[t("ol",{attrs:{start:"3"}},[t("li",[s._v("修改umi配置")])])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://files.mdnice.com/user/11504/c875ee98-e36f-4ebb-866c-8bc29c6f5562.png",alt:""}})]),s._v(" "),t("p",[s._v("修改.umirc.ts，注意2个地方:")]),s._v(" "),t("ol",[t("li",[s._v("路由改为hash模式")]),s._v(" "),t("li",[s._v("public改为./")])]),s._v(" "),t("ul",[t("li",[t("ol",{attrs:{start:"4"}},[t("li",[s._v("本地安装electron进行调试")])])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --save-dev electron\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("接着我们执行我们的npm命令即可，注意如果是loadFile模式，我们还需要先build生成dist目录。")]),s._v(" "),t("p",[s._v("即"),t("code",[s._v("npm run build")])]),s._v(" "),t("div",{staticClass:"language-BASH line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run electron:serve\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("hr"),s._v(" "),t("p",[s._v("接着就可以开始electron之旅了:")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://files.mdnice.com/user/11504/a975f117-24ad-492f-98e7-63b9974b228c.png",alt:""}})]),s._v(" "),t("p",[s._v("这是我写的粗糙的页面，后面再调整，respect！")])])}),[],!1,null,null,null);t.default=e.exports}}]);